---
# tasks file for aap_requirements_check
- name: Configure automationcontroller firewall rules
  when:
    - '"automationcontroller" in groups'
    - inventory_hostname in groups['automationcontroller']
  ansible.posix.firewalld:
    port: "{{ ports }}/tcp"
    permanent: yes
    immediate: true
    state: enabled
  loop:
    - "{{ ansible_port }}"
    - "{{ nginx_http_port }}"
    - "{{ nginx_https_port }}"
  loop_control:
    loop_var: ports
    